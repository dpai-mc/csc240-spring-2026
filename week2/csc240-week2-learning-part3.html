<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSC 240 Week 2 Part 3: Pigeonhole Principle & Applications</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #667eea;
            --secondary-color: #764ba2;
            --accent-color: #f093fb;
            --success-color: #4caf50;
            --warning-color: #ff9800;
            --danger-color: #f44336;
            --light-bg: #f8f9fa;
            --dark-text: #333;
            --border-color: #ddd;
            --shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--dark-text);
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            overflow: hidden;
        }

        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .subtitle {
            font-size: 1.2em;
            opacity: 0.95;
        }

        .part-indicator {
            display: inline-block;
            background: rgba(255,255,255,0.2);
            padding: 8px 16px;
            border-radius: 20px;
            margin-top: 10px;
            font-weight: bold;
        }

        nav {
            background: var(--light-bg);
            padding: 15px 30px;
            border-bottom: 3px solid var(--primary-color);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .nav-links {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .nav-links a {
            color: var(--primary-color);
            text-decoration: none;
            padding: 8px 16px;
            border-radius: 5px;
            transition: all 0.3s ease;
            font-weight: 600;
        }

        .nav-links a:hover {
            background: var(--primary-color);
            color: white;
            transform: translateY(-2px);
        }

        .nav-links a:focus {
            outline: 3px solid var(--primary-color);
            outline-offset: 2px;
        }

        .progress-section {
            padding: 30px;
            background: var(--light-bg);
            border-bottom: 2px solid var(--border-color);
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .progress-bar-container {
            background: #e0e0e0;
            height: 30px;
            border-radius: 15px;
            overflow: hidden;
            position: relative;
            margin-bottom: 10px;
        }

        .progress-bar-fill {
            background: linear-gradient(90deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            height: 100%;
            width: 0%;
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 0.9em;
        }

        .module-badges {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .module-badge {
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: 600;
            background: #e0e0e0;
            color: var(--dark-text);
            transition: all 0.3s ease;
        }

        .module-badge.completed {
            background: var(--success-color);
            color: white;
        }

        .content {
            padding: 40px;
        }

        .module {
            margin-bottom: 50px;
            padding: 30px;
            background: white;
            border-radius: 8px;
            border-left: 5px solid var(--primary-color);
            box-shadow: var(--shadow);
        }

        .module-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--light-bg);
        }

        .module-icon {
            font-size: 2.5em;
        }

        .module-title h2 {
            color: var(--primary-color);
            font-size: 1.8em;
            margin-bottom: 5px;
        }

        .module-meta {
            color: #666;
            font-size: 0.9em;
        }

        .objectives {
            background: #e3f2fd;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #2196f3;
            margin: 20px 0;
        }

        .objectives h3 {
            color: #1976d2;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .objectives ul {
            list-style: none;
            padding-left: 0;
        }

        .objectives li {
            padding: 8px 0;
            padding-left: 25px;
            position: relative;
        }

        .objectives li::before {
            content: "‚úì";
            position: absolute;
            left: 0;
            color: #2196f3;
            font-weight: bold;
        }

        .definition {
            background: #fff3e0;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #ff9800;
            margin: 20px 0;
        }

        .definition-title {
            color: #f57c00;
            font-weight: bold;
            font-size: 1.1em;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .example {
            background: #e8f5e9;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #4caf50;
            margin: 20px 0;
        }

        .example-title {
            color: #388e3c;
            font-weight: bold;
            font-size: 1.1em;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .note {
            background: #fff9c4;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #fbc02d;
            margin: 20px 0;
        }

        .note-title {
            color: #f57f17;
            font-weight: bold;
            font-size: 1.1em;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .warning {
            background: #ffebee;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #f44336;
            margin: 20px 0;
        }

        .warning-title {
            color: #c62828;
            font-weight: bold;
            font-size: 1.1em;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .math-block {
            background: #f5f5f5;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
        }

        .interactive-box {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            padding: 25px;
            border-radius: 8px;
            margin: 25px 0;
            box-shadow: var(--shadow);
        }

        .interactive-title {
            color: var(--primary-color);
            font-size: 1.3em;
            font-weight: bold;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .pigeonhole-visual {
            display: flex;
            gap: 20px;
            margin: 20px 0;
            flex-wrap: wrap;
            justify-content: center;
        }

        .hole {
            background: white;
            border: 3px solid var(--primary-color);
            border-radius: 8px;
            padding: 15px;
            min-width: 100px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .hole:hover {
            transform: translateY(-5px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

        .hole-label {
            font-weight: bold;
            color: var(--primary-color);
            margin-bottom: 10px;
        }

        .pigeon {
            display: inline-block;
            width: 30px;
            height: 30px;
            background: var(--accent-color);
            border-radius: 50%;
            margin: 5px;
            position: relative;
            animation: bounce 0.5s ease;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 5px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 5px;
        }

        .btn-primary {
            background: var(--primary-color);
            color: white;
        }

        .btn-primary:hover {
            background: var(--secondary-color);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }

        .btn-success {
            background: var(--success-color);
            color: white;
        }

        .btn-success:hover {
            background: #45a049;
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn-secondary:hover {
            background: #5a6268;
        }

        .btn:focus {
            outline: 3px solid var(--primary-color);
            outline-offset: 2px;
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .quiz-container {
            background: white;
            padding: 25px;
            border-radius: 8px;
            margin: 20px 0;
            box-shadow: var(--shadow);
        }

        .quiz-question {
            font-size: 1.1em;
            font-weight: 600;
            margin-bottom: 20px;
            color: var(--dark-text);
        }

        .quiz-options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .quiz-option {
            padding: 15px;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: white;
        }

        .quiz-option:hover {
            border-color: var(--primary-color);
            background: var(--light-bg);
            transform: translateX(5px);
        }

        .quiz-option.selected {
            border-color: var(--primary-color);
            background: #e3f2fd;
        }

        .quiz-option.correct {
            border-color: var(--success-color);
            background: #e8f5e9;
        }

        .quiz-option.incorrect {
            border-color: var(--danger-color);
            background: #ffebee;
        }

        .quiz-feedback {
            margin-top: 20px;
            padding: 15px;
            border-radius: 8px;
            display: none;
        }

        .quiz-feedback.show {
            display: block;
        }

        .quiz-feedback.correct {
            background: #e8f5e9;
            border-left: 4px solid var(--success-color);
            color: #2e7d32;
        }

        .quiz-feedback.incorrect {
            background: #ffebee;
            border-left: 4px solid var(--danger-color);
            color: #c62828;
        }

        input[type="text"],
        input[type="number"],
        textarea,
        select {
            width: 100%;
            padding: 12px;
            border: 2px solid var(--border-color);
            border-radius: 5px;
            font-size: 1em;
            font-family: inherit;
            transition: border-color 0.3s ease;
        }

        input[type="text"]:focus,
        input[type="number"]:focus,
        textarea:focus,
        select:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .input-group {
            margin: 15px 0;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--dark-text);
        }

        .result-display {
            background: var(--light-bg);
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 4px solid var(--primary-color);
        }

        .result-item {
            padding: 10px 0;
            border-bottom: 1px solid var(--border-color);
        }

        .result-item:last-child {
            border-bottom: none;
        }

        .result-label {
            font-weight: 600;
            color: var(--primary-color);
            margin-right: 10px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        th, td {
            padding: 12px;
            text-align: left;
            border: 1px solid var(--border-color);
        }

        th {
            background: var(--primary-color);
            color: white;
            font-weight: 600;
        }

        tr:nth-child(even) {
            background: var(--light-bg);
        }

        footer {
            background: #333;
            color: white;
            text-align: center;
            padding: 30px;
        }

        .footer-nav {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #555;
        }

        .footer-nav a {
            color: var(--accent-color);
            text-decoration: none;
            margin: 0 15px;
            transition: color 0.3s ease;
        }

        .footer-nav a:hover {
            color: white;
        }

        @media (max-width: 768px) {
            header h1 {
                font-size: 1.8em;
            }

            .content {
                padding: 20px;
            }

            .module {
                padding: 20px;
            }

            .nav-links {
                flex-direction: column;
            }

            .pigeonhole-visual {
                flex-direction: column;
            }

            .progress-header {
                flex-direction: column;
                align-items: flex-start;
            }
        }

        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border-width: 0;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in {
            animation: fadeIn 0.5s ease;
        }

        code {
            background: #f5f5f5;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }

        pre {
            background: #f5f5f5;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
        }

        pre code {
            background: none;
            padding: 0;
        }

        .scenario-box {
            background: white;
            border: 2px solid var(--primary-color);
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }

        .scenario-box h4 {
            color: var(--primary-color);
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <header role="banner">
            <h1>Week 2: Relations and Functions</h1>
            <p class="subtitle">Part 3: Pigeonhole Principle & Applications</p>
            <span class="part-indicator">Module 7 | CSC 240 - Discrete Structures</span>
        </header>

        <nav role="navigation" aria-label="Module navigation">
            <div class="nav-links">
                <a href="#module7">Module 7: Pigeonhole Principle</a>
            </div>
        </nav>

        <section class="progress-section" aria-label="Learning progress">
            <div class="progress-header">
                <div>
                    <h2>Your Progress (Part 3)</h2>
                    <p>Complete to finish Week 2!</p>
                </div>
                <div class="module-badges" role="status" aria-live="polite">
                    <span class="module-badge" id="badge-module7">Module 7</span>
                </div>
            </div>
            <div class="progress-bar-container" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
                <div class="progress-bar-fill" id="progressBar">0%</div>
            </div>
        </section>

        <main class="content" role="main">
            <!-- Module 7: Pigeonhole Principle -->
            <article class="module fade-in" id="module7">
                <div class="module-header">
                    <span class="module-icon">üê¶</span>
                    <div class="module-title">
                        <h2>Module 7: The Pigeonhole Principle</h2>
                        <p class="module-meta">‚è±Ô∏è Estimated Time: 35 minutes</p>
                    </div>
                </div>

                <div class="objectives">
                    <h3>üéØ Learning Objectives:</h3>
                    <ul>
                        <li>Understand the pigeonhole principle and its statement</li>
                        <li>Apply the generalized pigeonhole principle</li>
                        <li>Use the pigeonhole principle to prove existence</li>
                        <li>Connect the principle to functions and cardinality</li>
                        <li>Solve real-world problems using the principle</li>
                    </ul>
                </div>

                <h3>What is the Pigeonhole Principle?</h3>
                <p>The <strong>pigeonhole principle</strong> is a simple yet powerful counting principle that has surprising applications throughout mathematics and computer science.</p>

                <div class="definition">
                    <div class="definition-title">üìñ The Pigeonhole Principle (Simple Form)</div>
                    <p>If <strong>n items</strong> are placed into <strong>m containers</strong>, and <strong>n > m</strong>, then at least one container must contain more than one item.</p>
                    <div class="math-block">
                        If n > m, then at least one container has ‚â• 2 items
                    </div>
                </div>

                <div class="note">
                    <div class="note-title">üí° Why "Pigeonhole"?</div>
                    <p>The name comes from the old-fashioned sorting method where mail was placed into pigeonholes (small compartments). If you have more letters than pigeonholes, at least one pigeonhole must contain multiple letters!</p>
                </div>

                <div class="example">
                    <div class="example-title">üí° Simple Example: Socks</div>
                    <p><strong>Problem:</strong> You have a drawer with 10 black socks and 10 white socks, all mixed up. It's dark, and you can't see colors. How many socks must you pull out to guarantee you have a matching pair?</p>
                    
                    <p><strong>Solution:</strong></p>
                    <ul>
                        <li><strong>Items (n):</strong> Socks you pull out</li>
                        <li><strong>Containers (m):</strong> 2 colors (black and white)</li>
                        <li>If you pull out 3 socks (n = 3) and have 2 colors (m = 2), then n > m</li>
                        <li>By the pigeonhole principle, at least one color must have ‚â• 2 socks</li>
                        <li><strong>Answer: 3 socks</strong></li>
                    </ul>
                </div>

                <div class="interactive-box">
                    <div class="interactive-title">üéÆ Interactive: Pigeonhole Visualizer</div>
                    <p>Watch the pigeonhole principle in action! Add pigeons to holes and see what happens.</p>
                    
                    <div class="input-group">
                        <label for="numHoles">Number of Holes (containers):</label>
                        <input type="number" id="numHoles" value="3" min="1" max="5">
                    </div>

                    <div class="input-group">
                        <label for="numPigeons">Number of Pigeons (items):</label>
                        <input type="number" id="numPigeons" value="7" min="1" max="20">
                    </div>

                    <button class="btn btn-primary" onclick="distributePigeons()">Distribute Pigeons</button>
                    <button class="btn btn-secondary" onclick="resetPigeons()">Reset</button>

                    <div id="pigeonholeDisplay" class="pigeonhole-visual">
                        <!-- Will be populated by JavaScript -->
                    </div>

                    <div id="pigeonholeResult" class="result-display" style="display: none;">
                        <!-- Results will be displayed here -->
                    </div>
                </div>

                <h3>The Generalized Pigeonhole Principle</h3>
                
                <div class="definition">
                    <div class="definition-title">üìñ Generalized Pigeonhole Principle</div>
                    <p>If <strong>n items</strong> are placed into <strong>m containers</strong>, then at least one container must contain at least <strong>‚åàn/m‚åâ</strong> items.</p>
                    <div class="math-block">
                        At least one container has ‚â• ‚åàn/m‚åâ items
                    </div>
                    <p>Where ‚åàx‚åâ is the <strong>ceiling function</strong> (round up to the nearest integer).</p>
                </div>

                <div class="example">
                    <div class="example-title">üí° Example: Generalized Principle</div>
                    <p><strong>Problem:</strong> If 100 students take a test with possible scores from 0 to 10 (11 possible scores), what can we conclude?</p>
                    
                    <p><strong>Solution:</strong></p>
                    <ul>
                        <li><strong>Items (n):</strong> 100 students</li>
                        <li><strong>Containers (m):</strong> 11 possible scores</li>
                        <li>‚åàn/m‚åâ = ‚åà100/11‚åâ = ‚åà9.09...‚åâ = 10</li>
                        <li><strong>Conclusion:</strong> At least one score must be achieved by at least 10 students</li>
                    </ul>
                </div>

                <h3>Famous Application: The Birthday Problem</h3>

                <div class="example">
                    <div class="example-title">üí° Birthday Paradox</div>
                    <p><strong>Problem:</strong> How many people must be in a room to guarantee that at least two people share the same birthday month?</p>
                    
                    <p><strong>Solution:</strong></p>
                    <ul>
                        <li><strong>Items (n):</strong> People in the room</li>
                        <li><strong>Containers (m):</strong> 12 months</li>
                        <li>We need n > m, so n > 12</li>
                        <li><strong>Answer: 13 people</strong></li>
                        <li>With 13 people and 12 months, at least two must share a birth month</li>
                    </ul>

                    <p><strong>Extension:</strong> What about same birthday (day and month)?</p>
                    <ul>
                        <li><strong>Containers:</strong> 365 days (ignoring leap years)</li>
                        <li>To <em>guarantee</em> a match: 366 people (365 + 1)</li>
                        <li>But to have a 50% <em>probability</em> of a match: only 23 people!</li>
                    </ul>
                </div>

                <h3>Connection to Functions</h3>

                <div class="note">
                    <div class="note-title">üí° Pigeonhole Principle ‚Üî Functions</div>
                    <p>The pigeonhole principle is deeply connected to function properties:</p>
                    <ul>
                        <li>If f: A ‚Üí B and |A| > |B|, then f <strong>cannot be injective</strong></li>
                        <li>This is exactly the pigeonhole principle!</li>
                        <li>Items = elements of A, Containers = elements of B</li>
                        <li>If more items than containers, at least two items map to the same container</li>
                        <li>Therefore, the function is not one-to-one</li>
                    </ul>
                </div>

                <h3>Computer Science Applications</h3>

                <div class="example">
                    <div class="example-title">üí° Application: Hash Collisions</div>
                    <p><strong>Scenario:</strong> A hash table has 1000 slots. You insert 1001 items.</p>
                    
                    <p><strong>Analysis:</strong></p>
                    <ul>
                        <li><strong>Items:</strong> 1001 data items</li>
                        <li><strong>Containers:</strong> 1000 hash table slots</li>
                        <li>By pigeonhole principle: At least one slot must contain ‚â• 2 items</li>
                        <li><strong>Conclusion:</strong> Hash collision is guaranteed!</li>
                        <li>This is why hash tables need collision resolution strategies</li>
                    </ul>
                </div>

                <div class="example">
                    <div class="example-title">üí° Application: Network Packets</div>
                    <p><strong>Scenario:</strong> A network router can handle 5 packets per second. In one second, 12 packets arrive.</p>
                    
                    <p><strong>Analysis:</strong></p>
                    <ul>
                        <li><strong>Items:</strong> 12 packets</li>
                        <li><strong>Containers:</strong> 5 time slots (packets that can be processed)</li>
                        <li>‚åà12/5‚åâ = ‚åà2.4‚åâ = 3</li>
                        <li><strong>Conclusion:</strong> At least one time slot must receive ‚â• 3 packets</li>
                        <li>This means packets will be queued or dropped</li>
                    </ul>
                </div>

                <h3>Proof Technique: Existence Proofs</h3>

                <div class="note">
                    <div class="note-title">üí° Using Pigeonhole for Proofs</div>
                    <p>The pigeonhole principle is powerful for <strong>existence proofs</strong>‚Äîproving that something must exist without constructing it explicitly.</p>
                    <p><strong>Strategy:</strong></p>
                    <ol>
                        <li>Identify what you want to prove exists</li>
                        <li>Define appropriate "items" and "containers"</li>
                        <li>Show that n > m (or calculate ‚åàn/m‚åâ)</li>
                        <li>Conclude that the desired object must exist</li>
                    </ol>
                </div>

                <div class="example">
                    <div class="example-title">üí° Example: Proof Using Pigeonhole</div>
                    <p><strong>Theorem:</strong> In any group of 13 people, at least two were born in the same month.</p>
                    
                    <p><strong>Proof:</strong></p>
                    <ul>
                        <li>Let the 13 people be the "items"</li>
                        <li>Let the 12 months be the "containers"</li>
                        <li>Since 13 > 12, by the pigeonhole principle, at least one month must contain at least two people</li>
                        <li>Therefore, at least two people share the same birth month. ‚àé</li>
                    </ul>
                </div>

                <div class="interactive-box">
                    <div class="interactive-title">üéÆ Interactive: Pigeonhole Problem Solver</div>
                    <p>Solve pigeonhole problems step-by-step!</p>
                    
                    <div class="scenario-box">
                        <h4>Problem Scenario</h4>
                        <p id="scenarioText">Loading...</p>
                    </div>

                    <div class="input-group">
                        <label for="itemsAnswer">Number of items (n):</label>
                        <input type="number" id="itemsAnswer" placeholder="Enter number">
                    </div>

                    <div class="input-group">
                        <label for="containersAnswer">Number of containers (m):</label>
                        <input type="number" id="containersAnswer" placeholder="Enter number">
                    </div>

                    <div class="input-group">
                        <label for="conclusionAnswer">What can you conclude?</label>
                        <textarea id="conclusionAnswer" rows="3" placeholder="State your conclusion using the pigeonhole principle..."></textarea>
                    </div>

                    <button class="btn btn-primary" onclick="checkPigeonholeSolution()">Check Answer</button>
                    <button class="btn btn-secondary" onclick="nextPigeonholeProblem()">Next Problem</button>

                    <div id="pigeonholeFeedback" class="quiz-feedback">
                        <!-- Feedback will be displayed here -->
                    </div>
                </div>

                <h3>Practice Problems</h3>

                <div class="quiz-container">
                    <div class="quiz-question">
                        <strong>Problem 1:</strong> A drawer contains 10 red socks, 10 blue socks, and 10 green socks. What is the minimum number of socks you must draw (without looking) to guarantee you have at least one pair of matching socks?
                    </div>
                    <div class="quiz-options">
                        <div class="quiz-option" onclick="checkPigeonholeQuiz1(this, false)">
                            A) 3 socks
                        </div>
                        <div class="quiz-option" onclick="checkPigeonholeQuiz1(this, true)">
                            B) 4 socks
                        </div>
                        <div class="quiz-option" onclick="checkPigeonholeQuiz1(this, false)">
                            C) 5 socks
                        </div>
                        <div class="quiz-option" onclick="checkPigeonholeQuiz1(this, false)">
                            D) 6 socks
                        </div>
                    </div>
                    <div class="quiz-feedback" id="pigeonhole-quiz1-feedback"></div>
                </div>

                <div class="quiz-container">
                    <div class="quiz-question">
                        <strong>Problem 2:</strong> A class has 50 students. Test scores range from 0 to 100 (101 possible scores). Using the generalized pigeonhole principle, what is the minimum number of students that must receive the same score?
                    </div>
                    <div class="quiz-options">
                        <div class="quiz-option" onclick="checkPigeonholeQuiz2(this, false)">
                            A) At least 1 student
                        </div>
                        <div class="quiz-option" onclick="checkPigeonholeQuiz2(this, true)">
                            B) At least 1 student (‚åà50/101‚åâ = 1, so this doesn't guarantee duplicates)
                        </div>
                        <div class="quiz-option" onclick="checkPigeonholeQuiz2(this, false)">
                            C) At least 2 students
                        </div>
                        <div class="quiz-option" onclick="checkPigeonholeQuiz2(this, false)">
                            D) Cannot be determined
                        </div>
                    </div>
                    <div class="quiz-feedback" id="pigeonhole-quiz2-feedback"></div>
                </div>

                <h3>Summary: Key Takeaways</h3>

                <div class="note">
                    <div class="note-title">üìù Remember These Points</div>
                    <ul>
                        <li><strong>Simple form:</strong> If n items go into m containers and n > m, at least one container has ‚â• 2 items</li>
                        <li><strong>Generalized form:</strong> At least one container has ‚â• ‚åàn/m‚åâ items</li>
                        <li><strong>Connection to functions:</strong> If |Domain| > |Codomain|, function cannot be injective</li>
                        <li><strong>Use for existence proofs:</strong> Prove something exists without constructing it</li>
                        <li><strong>Applications:</strong> Hash collisions, scheduling, network analysis, algorithm analysis</li>
                    </ul>
                </div>

                <div style="text-align: center; margin-top: 30px;">
                    <button class="btn btn-success" onclick="completeModule(7)">
                        ‚úì Complete Module 7 & Week 2!
                    </button>
                </div>
            </article>

            <!-- Week Summary -->
            <section class="module" style="background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);">
                <h2>üéâ Week 2 Complete!</h2>
                <p>Congratulations! You've completed all three parts of Week 2: Relations and Functions.</p>
                
                <h3>What You've Mastered This Week:</h3>
                <ul>
                    <li>‚úì Binary relations and their properties (reflexive, symmetric, transitive)</li>
                    <li>‚úì Equivalence relations and partitions</li>
                    <li>‚úì Functions as special relations</li>
                    <li>‚úì Function types: injective, surjective, bijective</li>
                    <li>‚úì Function composition and inverse functions</li>
                    <li>‚úì The pigeonhole principle and its applications</li>
                </ul>

                <div class="note" style="margin-top: 20px;">
                    <div class="note-title">üìö Preparing for Week 3</div>
                    <p><strong>Quiz 1 is coming!</strong> It covers Weeks 1-3 (Sets, Relations, Functions, Basic Logic)</p>
                    <p><strong>Next week:</strong> Cardinality and Introduction to Logic</p>
                    <ul>
                        <li>Countable vs. uncountable sets</li>
                        <li>Propositional logic</li>
                        <li>Truth tables and logical connectives</li>
                    </ul>
                </div>

                <h3>Week 2 Assignments Due:</h3>
                <div class="scenario-box">
                    <h4>üìù Complete These Before Moving On:</h4>
                    <ul>
                        <li><strong>PE-02:</strong> Relations Property Checker (15 points)</li>
                        <li><strong>PS-02:</strong> Relations and Functions Problem Set (10 points)</li>
                        <li><strong>Discussion:</strong> Real-World Applications (3 points)</li>
                    </ul>
                </div>
            </section>
        </main>

        <footer role="contentinfo">
            <p>&copy; 2026 Mendocino College Computer Science Department</p>
            <p>CSC 240 - Discrete Structures | Week 2, Part 3 of 3</p>
            <div class="footer-nav">
                <a href="csc240_Week2_Part2.html">‚Üê Part 2: Functions</a>
                <a href="../week2/csc240_Week2_Overview.html">Week 2 Overview</a>
                <a href="../week3/csc240_Week3_Overview.html">Week 3 Preview ‚Üí</a>
            </div>
        </footer>
    </div>

    <script>
        // Session storage for progress tracking
        const STORAGE_KEY = 'csc240_week2_part3_progress';

        let progress = {
            modules: {
                module7: false
            },
            interactions: {
                pigeonholeViz: false,
                problemSolver: false
            }
        };

        // Load progress
        function loadProgress() {
            const saved = sessionStorage.getItem(STORAGE_KEY);
            if (saved) {
                progress = JSON.parse(saved);
                updateProgressDisplay();
            }
        }

        // Save progress
        function saveProgress() {
            sessionStorage.setItem(STORAGE_KEY, JSON.stringify(progress));
            updateProgressDisplay();
        }

        // Update progress display
        function updateProgressDisplay() {
            const completed = Object.values(progress.modules).filter(v => v).length;
            const total = Object.keys(progress.modules).length;
            const percentage = (completed / total) * 100;

            const progressBar = document.getElementById('progressBar');
            progressBar.style.width = percentage + '%';
            progressBar.textContent = Math.round(percentage) + '%';
            progressBar.setAttribute('aria-valuenow', percentage);

            Object.keys(progress.modules).forEach((module) => {
                const badge = document.getElementById(`badge-${module}`);
                if (progress.modules[module]) {
                    badge.classList.add('completed');
                }
            });
        }

        // Complete module
        function completeModule(moduleNum) {
            const moduleKey = `module${moduleNum}`;
            progress.modules[moduleKey] = true;
            saveProgress();
            
            alert(`üéâ Week 2 Complete! You've mastered Relations, Functions, and the Pigeonhole Principle!`);
        }

        // Pigeonhole visualizer
        function distributePigeons() {
            const holes = parseInt(document.getElementById('numHoles').value);
            const pigeons = parseInt(document.getElementById('numPigeons').value);

            if (holes < 1 || pigeons < 1) {
                alert('Please enter positive numbers for both holes and pigeons.');
                return;
            }

            const display = document.getElementById('pigeonholeDisplay');
            display.innerHTML = '';

            // Distribute pigeons evenly, then add extras
            const basePerHole = Math.floor(pigeons / holes);
            const extras = pigeons % holes;

            for (let i = 0; i < holes; i++) {
                const hole = document.createElement('div');
                hole.className = 'hole';
                
                const label = document.createElement('div');
                label.className = 'hole-label';
                label.textContent = `Hole ${i + 1}`;
                hole.appendChild(label);

                const pigeonsInHole = basePerHole + (i < extras ? 1 : 0);
                for (let j = 0; j < pigeonsInHole; j++) {
                    const pigeon = document.createElement('div');
                    pigeon.className = 'pigeon';
                    pigeon.title = `Pigeon ${j + 1}`;
                    hole.appendChild(pigeon);
                }

                display.appendChild(hole);
            }

            // Show results
            const maxPigeons = basePerHole + (extras > 0 ? 1 : 0);
            const result = document.getElementById('pigeonholeResult');
            result.style.display = 'block';
            result.innerHTML = `
                <h4>Analysis:</h4>
                <div class="result-item">
                    <span class="result-label">Items (n):</span> ${pigeons} pigeons
                </div>
                <div class="result-item">
                    <span class="result-label">Containers (m):</span> ${holes} holes
                </div>
                <div class="result-item">
                    <span class="result-label">‚åàn/m‚åâ:</span> ‚åà${pigeons}/${holes}‚åâ = ${Math.ceil(pigeons / holes)}
                </div>
                <div class="result-item">
                    <span class="result-label">Conclusion:</span> At least one hole must contain ‚â• ${Math.ceil(pigeons / holes)} pigeons
                </div>
                <div class="result-item">
                    <span class="result-label">Actual max:</span> ${maxPigeons} pigeons in the fullest hole
                </div>
            `;

            progress.interactions.pigeonholeViz = true;
            saveProgress();
        }

        function resetPigeons() {
            document.getElementById('pigeonholeDisplay').innerHTML = '';
            document.getElementById('pigeonholeResult').style.display = 'none';
        }

        // Problem scenarios
        const pigeonholeProblems = [
            {
                text: "A computer science class has 30 students. Each student must choose one of 4 programming languages (Java, Python, C++, JavaScript) as their favorite. What can you conclude?",
                items: 30,
                containers: 4,
                conclusion: "At least ‚åà30/4‚åâ = 8 students must choose the same language as their favorite."
            },
            {
                text: "A website allows usernames with exactly 5 lowercase letters. How many users must register to guarantee that at least two have the same username?",
                items: 26*26*26*26*26 + 1,
                containers: 26*26*26*26*26,
                conclusion: "There are 26^5 = 11,881,376 possible usernames. By the pigeonhole principle, with 11,881,377 users, at least two must share the same username."
            },
            {
                text: "In a group of 367 people, what can you say about birthdays?",
                items: 367,
                containers: 366,
                conclusion: "There are at most 366 possible birthdays (including Feb 29). With 367 people, at least two must share the same birthday."
            }
        ];

        let currentProblem = 0;

        function loadPigeonholeProblem() {
            const problem = pigeonholeProblems[currentProblem];
            document.getElementById('scenarioText').textContent = problem.text;
            document.getElementById('itemsAnswer').value = '';
            document.getElementById('containersAnswer').value = '';
            document.getElementById('conclusionAnswer').value = '';
            
            const feedback = document.getElementById('pigeonholeFeedback');
            feedback.classList.remove('show', 'correct', 'incorrect');
        }

        function checkPigeonholeSolution() {
            const problem = pigeonholeProblems[currentProblem];
            const itemsAnswer = parseInt(document.getElementById('itemsAnswer').value);
            const containersAnswer = parseInt(document.getElementById('containersAnswer').value);
            const conclusion = document.getElementById('conclusionAnswer').value.trim();

            const feedback = document.getElementById('pigeonholeFeedback');
            feedback.classList.add('show');

            let correct = true;
            let message = '';

            if (itemsAnswer !== problem.items) {
                correct = false;
                message += `Items should be ${problem.items}. `;
            }
            if (containersAnswer !== problem.containers) {
                correct = false;
                message += `Containers should be ${problem.containers}. `;
            }
            if (conclusion.length < 20) {
                correct = false;
                message += 'Please provide a more detailed conclusion. ';
            }

            if (correct) {
                feedback.className = 'quiz-feedback show correct';
                feedback.innerHTML = `<strong>‚úì Excellent!</strong> ${problem.conclusion}`;
                progress.interactions.problemSolver = true;
                saveProgress();
            } else {
                feedback.className = 'quiz-feedback show incorrect';
                feedback.innerHTML = `<strong>‚úó Not quite.</strong> ${message}<br><br><strong>Hint:</strong> ${problem.conclusion}`;
            }
        }

        function nextPigeonholeProblem() {
            currentProblem = (currentProblem + 1) % pigeonholeProblems.length;
            loadPigeonholeProblem();
        }

        // Quiz functions
        function checkPigeonholeQuiz1(element, isCorrect) {
            const options = element.parentElement.querySelectorAll('.quiz-option');
            options.forEach(opt => {
                opt.style.pointerEvents = 'none';
                if (opt === element) {
                    opt.classList.add(isCorrect ? 'correct' : 'incorrect');
                }
            });
            
            const feedback = document.getElementById('pigeonhole-quiz1-feedback');
            feedback.classList.add('show', isCorrect ? 'correct' : 'incorrect');
            
            if (isCorrect) {
                feedback.innerHTML = '<strong>‚úì Correct!</strong> With 3 colors (containers) and 4 socks (items), by the pigeonhole principle at least one color must have ‚â• 2 socks. This guarantees a matching pair.';
            } else {
                feedback.innerHTML = '<strong>‚úó Incorrect.</strong> Think about the worst case: you could draw one sock of each color first (3 socks). The 4th sock must match one of the first three colors.';
            }
        }

        function checkPigeonholeQuiz2(element, isCorrect) {
            const options = element.parentElement.querySelectorAll('.quiz-option');
            options.forEach(opt => {
                opt.style.pointerEvents = 'none';
                if (opt === element) {
                    opt.classList.add(isCorrect ? 'correct' : 'incorrect');
                }
            });
            
            const feedback = document.getElementById('pigeonhole-quiz2-feedback');
            feedback.classList.add('show', isCorrect ? 'correct' : 'incorrect');
            
            if (isCorrect) {
                feedback.innerHTML = '<strong>‚úì Correct!</strong> ‚åà50/101‚åâ = ‚åà0.495...‚åâ = 1. Since there are more possible scores (101) than students (50), the pigeonhole principle doesn\'t guarantee any duplicates. Each student could theoretically have a unique score.';
            } else {
                feedback.innerHTML = '<strong>‚úó Incorrect.</strong> Calculate ‚åàn/m‚åâ = ‚åà50/101‚åâ. Since 50 < 101, we have more containers than items, so no duplicates are guaranteed.';
            }
        }

        // Initialize on load
        window.addEventListener('load', function() {
            loadProgress();
            loadPigeonholeProblem();
        });

        // Smooth scrolling
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });
        });
    </script>
</body>
</html>