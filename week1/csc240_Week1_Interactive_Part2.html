<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSC 240 - Week 1: Set Operations, Venn Diagrams, Subsets - Part 2</title>
    <meta name="description" content="Interactive learning experience for CSC 240 Week 1 Part 2: Modules 4-6">
    <style>
        /* Color scheme - Matched to Part 1 */
        :root {
            --primary: #1a4d2e;
            --secondary: #2d6a4f;
            --accent: #52b788;
            --light: #95d5b2;
            --pale: #d8f3dc;
            --bg: #ffffff;
            --surface: #f8f9fa;
            --text: #1b263b;
            --text-light: #415a77;
            --text-muted: #778da9;
            --border: #d8e2dc;
            --success: #2a9d8f;
            --warning: #f77f00;
            --error: #e63946;
            --info: #0077b6;
        }
        
        * { box-sizing: border-box; margin: 0; padding: 0; }
        
        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            line-height: 1.6;
            color: var(--text);
            background: var(--bg);
        }
        
        .skip-link {
            position: absolute;
            top: -40px;
            left: 0;
            background: var(--primary);
            color: white;
            padding: 8px 16px;
            text-decoration: none;
            z-index: 10000;
        }
        
        .skip-link:focus { top: 0; }
        
        header {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 2rem 1rem;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            position: relative;
            z-index: 998;
        }
        
        .header-content {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        h1 { font-size: 1.75rem; margin-bottom: 0.5rem; }
        
        nav {
            background: white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 999;
            border-bottom: 2px solid var(--border);
        }
        
        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0.5rem 1rem;
        }
        
        .nav-list {
            list-style: none;
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }
        
        .nav-link {
            padding: 0.5rem 1rem;
            background: var(--surface);
            border: 2px solid var(--border);
            border-radius: 8px;
            color: var(--text);
            text-decoration: none;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.3s;
        }
        
        .nav-link:hover {
            background: var(--light);
            border-color: var(--accent);
            transform: translateY(-2px);
        }
        
        .nav-link.active {
            background: var(--accent);
            color: white;
            border-color: var(--accent);
        }
        
        .progress-container {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 1.5rem;
            background: var(--surface);
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }
        
        .progress-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }
        
        .progress-bar {
            width: 100%;
            height: 16px;
            background: var(--border);
            border-radius: 8px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--accent), var(--success));
            transition: width 0.5s;
            width: 0%;
        }
        
        main {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1rem 3rem;
        }
        
        .module-section {
            margin-bottom: 3rem;
            scroll-margin-top: 100px;
        }
        
        .card {
            background: white;
            border: 2px solid var(--border);
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }
        
        .card-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid var(--border);
        }
        
        .card-icon {
            width: 48px;
            height: 48px;
            background: var(--accent);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: white;
            flex-shrink: 0;
        }
        
        h2 { color: var(--primary); font-size: 1.5rem; margin-bottom: 0.5rem; }
        h3 { color: var(--primary); font-size: 1.25rem; margin: 1.5rem 0 1rem; }
        h4 { color: var(--primary); font-size: 1.1rem; margin: 1rem 0 0.5rem; }
        
        p { color: var(--text-light); margin-bottom: 1rem; }
        
        .alert {
            padding: 1rem 1.5rem;
            border-radius: 8px;
            margin-bottom: 1rem;
            display: flex;
            gap: 1rem;
            border-left: 4px solid;
        }
        
        .alert.info { background: #e3f2fd; border-color: var(--info); color: #01579b; }
        .alert.warning { background: #fff3e0; border-color: var(--warning); color: #e65100; }
        .alert.success { background: #e8f5e9; border-color: var(--success); color: #1b5e20; }
        .alert.error { background: #ffebee; border-color: var(--error); color: #b71c1c; }
        
        .example-box {
            background: var(--surface);
            padding: 1.5rem;
            border-radius: 8px;
            border-left: 4px solid var(--accent);
            margin-bottom: 1.5rem;
        }
        
        .example-title {
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 1rem;
        }
        
        .example-steps {
            list-style: none;
            counter-reset: step;
        }
        
        .example-step {
            counter-increment: step;
            margin-bottom: 1rem;
            padding-left: 2.5rem;
            position: relative;
        }
        
        .example-step::before {
            content: counter(step);
            position: absolute;
            left: 0;
            width: 28px;
            height: 28px;
            background: var(--accent);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
        }
        
        .btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            border: 2px solid;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            font-family: inherit;
        }
        
        .btn-primary {
            background: var(--accent);
            color: white;
            border-color: var(--accent);
        }
        
        .btn-primary:hover {
            background: var(--primary);
            border-color: var(--primary);
            transform: translateY(-2px);
        }
        
        .btn-secondary {
            background: transparent;
            color: var(--accent);
            border-color: var(--accent);
        }
        
        .btn-secondary:hover {
            background: var(--accent);
            color: white;
        }

        .btn-small {
            padding: 0.5rem 1rem;
            font-size: 0.9rem;
        }

        /* Form elements */
        .set-input-row {
            display: flex;
            gap: 1rem;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }
        
        .form-group { flex: 1; min-width: 200px; }
        
        .form-label {
            display: block;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--text);
        }
        
        .form-input, select {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid var(--border);
            border-radius: 8px;
            font-size: 1rem;
            font-family: inherit;
        }

        .form-input:focus, select:focus {
            outline: none;
            border-color: var(--accent);
        }

        /* Set bubbles visualization */
        .set-bubbles {
            display: flex;
            gap: 10px;
            margin-top: 1rem;
            flex-wrap: wrap;
            min-height: 50px;
            align-items: center;
        }
        
        .bubble {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--accent);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            animation: popIn 0.3s ease-out;
        }

        @keyframes popIn {
            from { transform: scale(0); }
            to { transform: scale(1); }
        }

        /* Venn diagram styles */
        .venn-wrapper {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 1.5rem 0;
        }
        
        svg.venn-svg {
            max-width: 100%;
            height: auto;
        }

        .venn-region {
            fill: white;
            stroke: var(--primary);
            stroke-width: 3;
            opacity: 0.7;
            transition: fill 0.3s;
            cursor: pointer;
        }

        .venn-region:hover {
            fill: var(--pale);
        }

        .venn-region.shaded {
            fill: var(--accent);
            opacity: 0.8;
        }

        /* Subset visualization */
        .subset-visual {
            margin-top: 1.5rem;
            min-height: 150px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--surface);
            border-radius: 8px;
            padding: 1rem;
        }

        /* Quiz feedback */
        .quiz-feedback {
            margin-top: 1rem;
            padding: 1rem;
            border-radius: 8px;
            display: none;
        }
        
        .quiz-feedback.show { display: block; }
        .quiz-feedback.correct { 
            background: #e8f5e9; 
            color: #1b5e20; 
            border-left: 4px solid var(--success); 
        }
        .quiz-feedback.incorrect { 
            background: #ffebee; 
            color: #b71c1c; 
            border-left: 4px solid var(--error); 
        }

        /* Checkbox items for completion */
        .checkbox-item {
            padding: 1rem;
            background: var(--surface);
            border: 2px solid var(--border);
            border-radius: 8px;
            display: flex;
            gap: 1rem;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .checkbox-item:hover {
            background: var(--pale);
            border-color: var(--accent);
        }
        
        .checkbox-item.completed {
            background: var(--pale);
        }
        
        .checkbox-input {
            width: 20px;
            height: 20px;
            cursor: pointer;
            accent-color: var(--accent);
        }

        /* Operation chainer */
        .operation-chain {
            background: var(--surface);
            padding: 1.5rem;
            border-radius: 8px;
            border: 2px solid var(--border);
            margin: 1.5rem 0;
        }

        .chain-step {
            background: white;
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1rem;
            border-left: 4px solid var(--accent);
        }

        /* Comparison table */
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
        }
        
        .comparison-table th,
        .comparison-table td {
            padding: 0.75rem;
            text-align: left;
            border: 2px solid var(--border);
        }
        
        .comparison-table th {
            background: var(--accent);
            color: white;
            font-weight: 600;
        }
        
        .comparison-table tr:nth-child(even) {
            background: var(--surface);
        }

        code {
            background: var(--surface);
            padding: 0.2em 0.4em;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            color: var(--primary);
        }

        footer {
            background: var(--surface);
            padding: 2rem 1rem;
            margin-top: 3rem;
            text-align: center;
            border-top: 2px solid var(--border);
        }

        footer p {
            color: var(--text-light);
            margin-bottom: 0.5rem;
        }

        @media (max-width: 768px) {
            h1 { font-size: 1.5rem; }
            .nav-list { flex-direction: column; }
            .nav-link { width: 100%; }
            .set-input-row { flex-direction: column; }
        }
    </style>
</head>
<body>
    <a href="#main" class="skip-link">Skip to main content</a>
    
    <header>
        <div class="header-content">
            <h1>CSC 240 - Discrete Structures</h1>
            <p style="color: #ffffff; opacity: 1;">Week 1: Set Operations, Venn Diagrams, Subsets - Part 2</p>
        </div>
    </header>
    
    <nav>
        <div class="nav-container">
            <ul class="nav-list">
                <li><a href="#module4" class="nav-link">Module 4: Set Operations</a></li>
                <li><a href="#module5" class="nav-link">Module 5: Venn Diagrams</a></li>
                <li><a href="#module6" class="nav-link">Module 6: Subsets</a></li>
            </ul>
        </div>
    </nav>
    
    <div class="progress-container">
        <div class="progress-header">
            <span style="font-weight: 600;">Your Progress (Part 2)</span>
            <div>
                <span id="modules-completed">Modules: 0/3</span>
                <span id="progress-percentage" style="font-weight: 700; color: var(--accent); font-size: 1.5rem; margin-left: 1rem;">0%</span>
            </div>
        </div>
        <div class="progress-bar">
            <div class="progress-fill" id="progress-fill"></div>
        </div>
    </div>
    
    <main id="main">
        <!-- MODULE 4: SET OPERATIONS -->
        <section id="module4" class="module-section">
            <div class="card">
                <div class="card-header">
                    <div class="card-icon">üßÆ</div>
                    <div>
                        <h2>Module 4: Set Operations</h2>
                        <p style="margin: 0; color: var(--text-muted);">Estimated Time: 40 minutes</p>
                    </div>
                </div>

                <div class="alert info">
                    <span style="font-size: 1.5rem;">üéØ</span>
                    <div>
                        <strong>Learning Objectives:</strong>
                        <ul style="margin-top: 0.5rem; margin-left: 1.5rem;">
                            <li>Perform union operations (A ‚à™ B)</li>
                            <li>Perform intersection operations (A ‚à© B)</li>
                            <li>Perform difference operations (A - B)</li>
                            <li>Calculate complements (A')</li>
                            <li>Understand disjoint sets</li>
                        </ul>
                    </div>
                </div>

                <h3>Union (A ‚à™ B)</h3>
                <p><strong>Definition:</strong> The union of sets A and B contains all elements that are in A <em>or</em> B (or both).</p>
                
                <div class="example-box">
                    <div class="example-title">üí° Union Examples</div>
                    <ul class="example-steps">
                        <li>
                            <strong>A = {1, 2, 3, 4, 5}</strong><br>
                            <strong>B = {4, 5, 6, 7, 8}</strong><br>
                            <strong>A ‚à™ B = {1, 2, 3, 4, 5, 6, 7, 8}</strong><br>
                            <em>All unique elements from both sets</em>
                        </li>
                        <li>
                            <strong>Students taking Java = {Alice, Bob, Charlie}</strong><br>
                            <strong>Students taking Python = {Bob, David, Eve}</strong><br>
                            <strong>Union = {Alice, Bob, Charlie, David, Eve}</strong><br>
                            <em>All students taking either language</em>
                        </li>
                    </ul>
                </div>

                <h3>Intersection (A ‚à© B)</h3>
                <p><strong>Definition:</strong> The intersection of sets A and B contains only elements that are in <em>both</em> A <em>and</em> B.</p>
                
                <div class="example-box">
                    <div class="example-title">üí° Intersection Examples</div>
                    <ul class="example-steps">
                        <li>
                            <strong>A = {1, 2, 3, 4, 5}</strong><br>
                            <strong>B = {4, 5, 6, 7, 8}</strong><br>
                            <strong>A ‚à© B = {4, 5}</strong><br>
                            <em>Only elements found in both sets</em>
                        </li>
                        <li>
                            <strong>Even numbers = {2, 4, 6, 8, 10}</strong><br>
                            <strong>Numbers < 7 = {1, 2, 3, 4, 5, 6}</strong><br>
                            <strong>Intersection = {2, 4, 6}</strong><br>
                            <em>Even numbers less than 7</em>
                        </li>
                    </ul>
                </div>

                <h3>Difference (A - B)</h3>
                <p><strong>Definition:</strong> The difference A - B (also written A \ B) contains elements that are in A but <em>not</em> in B.</p>
                
                <div class="alert warning">
                    <span style="font-size: 1.5rem;">‚ö†Ô∏è</span>
                    <div>
                        <strong>Important:</strong> Difference is <strong>not symmetric</strong>. A - B is generally different from B - A!
                    </div>
                </div>
                
                <div class="example-box">
                    <div class="example-title">üí° Difference Examples</div>
                    <ul class="example-steps">
                        <li>
                            <strong>A = {1, 2, 3, 4, 5}</strong><br>
                            <strong>B = {4, 5, 6, 7, 8}</strong><br>
                            <strong>A - B = {1, 2, 3}</strong> (remove elements that are in B)<br>
                            <strong>B - A = {6, 7, 8}</strong> (remove elements that are in A)
                        </li>
                        <li>
                            <strong>All students = {Alice, Bob, Charlie, David}</strong><br>
                            <strong>Passed exam = {Alice, Charlie}</strong><br>
                            <strong>Difference = {Bob, David}</strong><br>
                            <em>Students who did not pass</em>
                        </li>
                    </ul>
                </div>

                <h3>Complement (A')</h3>
                <p><strong>Definition:</strong> The complement of set A (written A' or ƒÄ) contains all elements in the universal set U that are <em>not</em> in A.</p>
                
                <div class="alert info">
                    <span style="font-size: 1.5rem;">‚ÑπÔ∏è</span>
                    <div>
                        <strong>Note:</strong> The complement operation requires a universal set U to be defined. The complement is relative to U.
                    </div>
                </div>
                
                <div class="example-box">
                    <div class="example-title">üí° Complement Examples</div>
                    <ul class="example-steps">
                        <li>
                            <strong>U = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10}</strong><br>
                            <strong>A = {2, 4, 6, 8, 10}</strong> (even numbers)<br>
                            <strong>A' = {1, 3, 5, 7, 9}</strong> (odd numbers)
                        </li>
                        <li>
                            <strong>U = {All students in class}</strong><br>
                            <strong>A = {Students who submitted assignment}</strong><br>
                            <strong>A' = {Students who did NOT submit assignment}</strong>
                        </li>
                    </ul>
                </div>

                <h3>Disjoint Sets</h3>
                <p><strong>Definition:</strong> Two sets A and B are <strong>disjoint</strong> if they have no elements in common. In other words, A ‚à© B = ‚àÖ.</p>
                
                <div class="example-box">
                    <div class="example-title">üí° Disjoint Examples</div>
                    <ul class="example-steps">
                        <li>
                            <strong>Even numbers = {2, 4, 6, 8}</strong><br>
                            <strong>Odd numbers = {1, 3, 5, 7, 9}</strong><br>
                            These sets are <strong>disjoint</strong> (no overlap)
                        </li>
                        <li>
                            <strong>A = {1, 2, 3}</strong><br>
                            <strong>B = {4, 5, 6}</strong><br>
                            A ‚à© B = ‚àÖ, so they are <strong>disjoint</strong>
                        </li>
                    </ul>
                </div>

                <h3>Interactive: Set Operation Calculator</h3>
                <div class="card" style="background: var(--surface); border-color: var(--accent);">
                    <p>Enter elements separated by commas (e.g., 1, 2, 3). Try different operations!</p>
                    
                    <div class="set-input-row">
                        <div class="form-group">
                            <label class="form-label" for="setA">Set A:</label>
                            <input type="text" id="setA" class="form-input" value="1, 2, 3, 4, 5" placeholder="1, 2, 3">
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="setB">Set B:</label>
                            <input type="text" id="setB" class="form-input" value="4, 5, 6, 7, 8" placeholder="4, 5, 6">
                        </div>
                    </div>
                    
                    <div class="set-input-row">
                        <div class="form-group">
                            <label class="form-label" for="universalSet">Universal Set U (for complement):</label>
                            <input type="text" id="universalSet" class="form-input" value="1, 2, 3, 4, 5, 6, 7, 8, 9, 10" placeholder="1, 2, 3, 4, 5, 6, 7, 8, 9, 10">
                        </div>
                    </div>
                    
                    <div class="form-group" style="margin-bottom: 1rem;">
                        <label class="form-label" for="operation">Select Operation:</label>
                        <select id="operation">
                            <option value="union">Union (A ‚à™ B)</option>
                            <option value="intersection">Intersection (A ‚à© B)</option>
                            <option value="diffAB">Difference (A - B)</option>
                            <option value="diffBA">Difference (B - A)</option>
                            <option value="complementA">Complement (A')</option>
                            <option value="complementB">Complement (B')</option>
                            <option value="disjoint">Check if Disjoint</option>
                        </select>
                    </div>

                    <button class="btn btn-primary" onclick="calculateSetOperation()">Calculate</button>

                    <div id="calc-feedback" class="quiz-feedback" aria-live="polite"></div>
                    
                    <div id="visual-animator" class="set-bubbles" aria-hidden="true"></div>
                </div>

                <h3>Practice: Common Mistakes</h3>
                <div class="example-box">
                    <div class="example-title">‚ùì Practice Question</div>
                    <p><strong>Given:</strong> A = {x, y, z} and B = {y, z, w}</p>
                    <p><strong>Question:</strong> What is A - B?</p>
                    <div style="display: flex; gap: 10px; margin-top: 1rem; flex-wrap: wrap;">
                        <button class="btn btn-secondary btn-small" onclick="checkM4Quiz('a')">{w}</button>
                        <button class="btn btn-secondary btn-small" onclick="checkM4Quiz('b')">{x}</button>
                        <button class="btn btn-secondary btn-small" onclick="checkM4Quiz('c')">{x, w}</button>
                        <button class="btn btn-secondary btn-small" onclick="checkM4Quiz('d')">{y, z}</button>
                    </div>
                    <div id="m4-quiz-feedback" class="quiz-feedback" aria-live="polite"></div>
                </div>

                <div style="margin-top: 2rem; padding-top: 2rem; border-top: 2px solid var(--border);">
                    <label class="checkbox-item" onclick="toggleModuleCompletion(4)">
                        <input type="checkbox" class="checkbox-input" id="module4-complete">
                        <span><strong>I've completed Module 4</strong></span>
                    </label>
                </div>
            </div>
        </section>

        <!-- MODULE 5: VENN DIAGRAMS -->
        <section id="module5" class="module-section">
            <div class="card">
                <div class="card-header">
                    <div class="card-icon">üé®</div>
                    <div>
                        <h2>Module 5: Venn Diagrams</h2>
                        <p style="margin: 0; color: var(--text-muted);">Estimated Time: 35 minutes</p>
                    </div>
                </div>
            
                <div class="alert info">
                    <span style="font-size: 1.5rem;">üéØ</span>
                    <div>
                        <strong>Learning Objectives:</strong>
                        <ul style="margin-top: 0.5rem; margin-left: 1.5rem;">
                            <li>Draw Venn diagrams to represent sets</li>
                            <li>Shade regions representing set operations</li>
                            <li>Interpret Venn diagrams</li>
                            <li>Use Venn diagrams to solve problems</li>
                        </ul>
                    </div>
                </div>

                <h3>What are Venn Diagrams?</h3>
                <p>Venn diagrams are visual representations of sets and their relationships. They use circles (or other shapes) to represent sets, contained within a rectangle representing the universal set.</p>
                
                <div class="example-box">
                    <div class="example-title">üìê Basic Structure</div>
                    <ul class="example-steps">
                        <li><strong>Rectangle:</strong> Represents the universal set U (everything under consideration)</li>
                        <li><strong>Circles:</strong> Represent individual sets (A, B, C, etc.)</li>
                        <li><strong>Overlapping regions:</strong> Show intersections between sets</li>
                        <li><strong>Shading:</strong> Highlights specific regions to show operations</li>
                    </ul>
                </div>

                <h3>Two-Set Venn Diagrams</h3>
                <p>The most common Venn diagram uses two overlapping circles. This creates <strong>four distinct regions</strong>:</p>
                
                <div class="example-box">
                    <div class="example-title">üîç The Four Regions</div>
                    <ul class="example-steps">
                        <li><strong>Region 1:</strong> Elements only in A (not in B) = A - B</li>
                        <li><strong>Region 2:</strong> Elements in both A and B = A ‚à© B</li>
                        <li><strong>Region 3:</strong> Elements only in B (not in A) = B - A</li>
                        <li><strong>Region 4:</strong> Elements in neither A nor B = (A ‚à™ B)'</li>
                    </ul>
                </div>

                <h3>Interactive: Venn Diagram Shading</h3>
                <div class="card" style="background: var(--surface);">
                    <p id="shade-instruction" style="margin-bottom: 1rem; font-weight: 600;">
                        <strong>Instructions:</strong> Click the regions to shade/unshade them. Try to shade the correct region for: <span style="color: var(--accent);">A ‚à© B</span> (Intersection)
                    </p>
                    
                    <div class="venn-wrapper">
                        <svg width="400" height="300" viewBox="0 0 400 300" class="venn-svg">
                            <defs>
                                <!-- Define clip paths for the three regions -->
                                <clipPath id="clipA">
                                    <circle cx="150" cy="150" r="80"/>
                                </clipPath>
                                <clipPath id="clipB">
                                    <circle cx="250" cy="150" r="80"/>
                                </clipPath>
                                <clipPath id="clipNotA">
                                    <rect x="0" y="0" width="400" height="300"/>
                                    <circle cx="150" cy="150" r="80" fill="black"/>
                                </clipPath>
                            </defs>
                            
                            <!-- Universal set rectangle -->
                            <rect x="10" y="10" width="380" height="280" fill="none" stroke="#999" stroke-width="2" stroke-dasharray="5,5"/>
                            <text x="20" y="30" font-size="16" fill="#666">U</text>
                            
                            <!-- Circle outlines (for visual reference) -->
                            <circle cx="150" cy="150" r="80" fill="none" stroke="var(--primary)" stroke-width="3"/>
                            <circle cx="250" cy="150" r="80" fill="none" stroke="var(--primary)" stroke-width="3"/>
                            
                            <!-- Region A-only (left crescent) -->
                            <g clip-path="url(#clipA)">
                                <rect id="region-a-only" class="venn-region" x="70" y="70" width="160" height="160" 
                                      clip-path="url(#clipNotA)" onclick="toggleVennRegion('region-a-only')"/>
                            </g>
                            
                            <!-- Region B-only (right crescent) -->
                            <g clip-path="url(#clipB)">
                                <clipPath id="clipNotAForB">
                                    <rect x="0" y="0" width="400" height="300"/>
                                    <circle cx="150" cy="150" r="80" fill="black"/>
                                </clipPath>
                                <rect id="region-b-only" class="venn-region" x="170" y="70" width="160" height="160" 
                                      clip-path="url(#clipNotAForB)" onclick="toggleVennRegion('region-b-only')"/>
                            </g>
                            
                            <!-- Region intersection (center overlap) - rendered on top -->
                            <g clip-path="url(#clipA)">
                                <circle id="region-intersection" class="venn-region" cx="250" cy="150" r="80" 
                                        onclick="toggleVennRegion('region-intersection')"/>
                            </g>
                            
                            <!-- Labels -->
                            <text x="100" y="155" font-size="20" font-weight="bold" fill="var(--text)" pointer-events="none">A</text>
                            <text x="280" y="155" font-size="20" font-weight="bold" fill="var(--text)" pointer-events="none">B</text>
                        </svg>
                    </div>

                    <div style="text-align: center; gap: 1rem; display: flex; justify-content: center; flex-wrap: wrap;">
                        <button class="btn btn-primary" onclick="checkVennShading()">Check Answer</button>
                        <button class="btn btn-secondary" onclick="resetVenn()">Reset</button>
                        <button class="btn btn-secondary" onclick="changeVennChallenge()">New Challenge</button>
                    </div>
                    <div id="venn-feedback" class="quiz-feedback" aria-live="polite"></div>
                </div>

                <h3>Real-World Application: Survey Problem</h3>
                <p>Venn diagrams are especially useful for solving survey and counting problems.</p>
                
                <div class="example-box">
                    <div class="example-title">üìä Example Problem</div>
                    <p><strong>Scenario:</strong> In a class of 50 students:</p>
                    <ul style="margin-left: 1.5rem; margin-bottom: 1rem;">
                        <li>30 students study Java (Set A)</li>
                        <li>25 students study Python (Set B)</li>
                        <li>10 students study <strong>both</strong> Java and Python</li>
                    </ul>
                    <p><strong>Question:</strong> How many students study <strong>only</strong> Python?</p>
                    <p><strong>Solution:</strong> Students who study only Python = Total Python - Both = 25 - 10 = <strong>15 students</strong></p>
                </div>

                <h3>Practice Problem</h3>
                <div class="card" style="background: var(--surface);">
                    <h4 style="margin-top:0;">Your Turn!</h4>
                    <p>In a survey of 60 people:</p>
                    <ul style="margin-left: 1.5rem;">
                        <li>35 people like coffee</li>
                        <li>28 people like tea</li>
                        <li>12 people like both coffee and tea</li>
                    </ul>
                    <p style="margin-top: 1rem;"><strong>Question:</strong> How many people like <strong>only coffee</strong> (not tea)?</p>
                    <div style="display: flex; gap: 1rem; align-items: center; margin-top: 1rem; flex-wrap: wrap;">
                        <input type="text" id="venn-q1" class="form-input" placeholder="Enter number..." style="max-width: 200px;">
                        <button class="btn btn-primary" onclick="checkVennMath()">Submit Answer</button>
                    </div>
                    <div id="venn-math-feedback" class="quiz-feedback" aria-live="polite"></div>
                </div>

                <h3>Three-Set Preview</h3>
                <p>Venn diagrams can also represent three sets, creating <strong>eight distinct regions</strong>. This is useful for more complex problems but increases in complexity.</p>
                
                <div class="alert info">
                    <span style="font-size: 1.5rem;">üí°</span>
                    <div>
                        <strong>Fun Fact:</strong> With three overlapping circles, you create 8 regions: 3 regions with only one set, 3 regions with exactly two sets, 1 region with all three sets, and 1 region with none.
                    </div>
                </div>

                <div style="margin-top: 2rem; padding-top: 2rem; border-top: 2px solid var(--border);">
                    <label class="checkbox-item" onclick="toggleModuleCompletion(5)">
                        <input type="checkbox" class="checkbox-input" id="module5-complete">
                        <span><strong>I've completed Module 5</strong></span>
                    </label>
                </div>
            </div>
        </section>

        <!-- MODULE 6: SUBSETS -->
        <section id="module6" class="module-section">
            <div class="card">
                <div class="card-header">
                    <div class="card-icon">üì¶</div>
                    <div>
                        <h2>Module 6: Subsets and Subset Relations</h2>
                        <p style="margin: 0; color: var(--text-muted);">Estimated Time: 25 minutes</p>
                    </div>
                </div>

                <div class="alert info">
                    <span style="font-size: 1.5rem;">üéØ</span>
                    <div>
                        <strong>Learning Objectives:</strong>
                        <ul style="margin-top: 0.5rem; margin-left: 1.5rem;">
                            <li>Define subset (A ‚äÜ B)</li>
                            <li>Define proper subset (A ‚äÇ B)</li>
                            <li>Determine if subset relationships hold</li>
                            <li>Understand subset properties</li>
                        </ul>
                    </div>
                </div>

                <h3>Subset Definition (A ‚äÜ B)</h3>
                <p><strong>Definition:</strong> Set A is a <strong>subset</strong> of set B (written A ‚äÜ B) if every element of A is also an element of B.</p>
                
                <div class="example-box">
                    <div class="example-title">üí° Subset Examples</div>
                    <ul class="example-steps">
                        <li>
                            <strong>{1, 2} ‚äÜ {1, 2, 3, 4, 5}</strong><br>
                            Every element in {1, 2} is also in {1, 2, 3, 4, 5}, so this is TRUE
                        </li>
                        <li>
                            <strong>{2, 4, 6} ‚äÜ {1, 2, 3, 4, 5, 6, 7, 8}</strong><br>
                            All elements (2, 4, 6) are in the larger set, so this is TRUE
                        </li>
                        <li>
                            <strong>{1, 2, 9} ‚äÜ {1, 2, 3, 4, 5}</strong><br>
                            The element 9 is NOT in {1, 2, 3, 4, 5}, so this is FALSE
                        </li>
                        <li>
                            <strong>{3} ‚äÜ {1, 2, 3, 4}</strong><br>
                            The single element 3 is in the larger set, so this is TRUE
                        </li>
                    </ul>
                </div>

                <h3>Proper Subset (A ‚äÇ B)</h3>
                <p><strong>Definition:</strong> Set A is a <strong>proper subset</strong> of set B (written A ‚äÇ B) if A ‚äÜ B <strong>and</strong> A ‚â† B. In other words, every element of A is in B, but B has at least one element that A doesn't have.</p>
                
                <div class="alert warning">
                    <span style="font-size: 1.5rem;">‚ö†Ô∏è</span>
                    <div>
                        <strong>Key Difference:</strong>
                        <ul style="margin-left: 1.5rem; margin-top: 0.5rem;">
                            <li><strong>Subset (‚äÜ):</strong> A can equal B</li>
                            <li><strong>Proper subset (‚äÇ):</strong> A must be strictly smaller than B</li>
                        </ul>
                    </div>
                </div>
                
                <div class="example-box">
                    <div class="example-title">üí° Proper Subset Examples</div>
                    <ul class="example-steps">
                        <li>
                            <strong>{1, 2} ‚äÇ {1, 2, 3, 4, 5}</strong><br>
                            {1, 2} ‚äÜ {1, 2, 3, 4, 5} AND they're not equal, so this is a PROPER subset (TRUE)
                        </li>
                        <li>
                            <strong>{1, 2, 3} ‚äÇ {1, 2, 3}</strong><br>
                            Although {1, 2, 3} ‚äÜ {1, 2, 3}, they ARE equal, so this is NOT a proper subset (FALSE)
                        </li>
                        <li>
                            <strong>{a, b} ‚äÇ {a, b, c, d}</strong><br>
                            TRUE - it's a proper subset because the second set has extra elements
                        </li>
                    </ul>
                </div>

                <h3>Important Subset Properties</h3>
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Property</th>
                            <th>Statement</th>
                            <th>Example</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Reflexive</strong></td>
                            <td>Every set is a subset of itself</td>
                            <td>A ‚äÜ A for any set A</td>
                        </tr>
                        <tr>
                            <td><strong>Transitive</strong></td>
                            <td>If A ‚äÜ B and B ‚äÜ C, then A ‚äÜ C</td>
                            <td>{1} ‚äÜ {1,2} and {1,2} ‚äÜ {1,2,3}, so {1} ‚äÜ {1,2,3}</td>
                        </tr>
                        <tr>
                            <td><strong>Empty Set</strong></td>
                            <td>The empty set is a subset of every set</td>
                            <td>‚àÖ ‚äÜ A for any set A</td>
                        </tr>
                        <tr>
                            <td><strong>Universal Set</strong></td>
                            <td>Every set is a subset of the universal set</td>
                            <td>A ‚äÜ U for any set A in universe U</td>
                        </tr>
                    </tbody>
                </table>

                <h3>Interactive: Subset Relationship Checker</h3>
                <div class="card" style="background: var(--surface);">
                    <p>Enter two sets to determine their relationship. The tool will check if A ‚äÜ B, A ‚äÇ B, or if there's no subset relationship.</p>
                    <div class="set-input-row">
                        <div class="form-group">
                            <label class="form-label">Set A:</label>
                            <input type="text" id="subA" class="form-input" value="2, 4" placeholder="e.g. 1, 2">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Set B:</label>
                            <input type="text" id="subB" class="form-input" value="1, 2, 3, 4, 5" placeholder="e.g. 1, 2, 3">
                        </div>
                    </div>
                    <button class="btn btn-primary" onclick="checkSubset()">Check Relationship</button>
                    <div id="subset-feedback" class="quiz-feedback" aria-live="polite"></div>
                    
                    <div id="subset-visual" class="subset-visual"></div>
                </div>

                <h3>Practice Quiz</h3>
                <div class="card" style="background: var(--surface);">
                    <p class="quiz-question"><strong>True or False:</strong> The empty set (‚àÖ) is a subset of every set.</p>
                    <p style="font-size: 0.9rem; color: var(--text-muted); margin-bottom: 1rem;">Think carefully! This is a fundamental property.</p>
                    <div style="display: flex; gap: 1rem; flex-wrap: wrap;">
                        <button class="btn btn-secondary" onclick="checkSubsetQuiz(true)">True</button>
                        <button class="btn btn-secondary" onclick="checkSubsetQuiz(false)">False</button>
                    </div>
                    <div id="subset-quiz-feedback" class="quiz-feedback" aria-live="polite"></div>
                </div>

                <h3>Visualizing Subset Relationships</h3>
                <div class="example-box">
                    <div class="example-title">üé® Visual Representation</div>
                    <p>When A ‚äÇ B (proper subset), we can visualize B as a larger circle completely containing a smaller circle A:</p>
                    <div style="text-align: center; margin: 1.5rem 0;">
                        <svg width="200" height="200" viewBox="0 0 200 200">
                            <!-- Larger circle (B) -->
                            <circle cx="100" cy="100" r="80" fill="#e8f5e9" stroke="var(--primary)" stroke-width="2"/>
                            <text x="150" y="40" font-size="18" font-weight="bold" fill="var(--text)">B</text>
                            
                            <!-- Smaller circle (A) -->
                            <circle cx="100" cy="110" r="40" fill="var(--light)" stroke="var(--accent)" stroke-width="2"/>
                            <text x="95" y="115" font-size="16" font-weight="bold" fill="var(--text)">A</text>
                        </svg>
                    </div>
                    <p style="text-align: center; font-style: italic; color: var(--text-muted);">A ‚äÇ B: Set A is completely inside set B</p>
                </div>

                <div style="margin-top: 2rem; padding-top: 2rem; border-top: 2px solid var(--border);">
                    <label class="checkbox-item" onclick="toggleModuleCompletion(6)">
                        <input type="checkbox" class="checkbox-input" id="module6-complete">
                        <span><strong>I've completed Module 6</strong></span>
                    </label>
                </div>
            </div>
        </section>

        <!-- COMPLETION SECTION -->
        <section class="card" style="background: var(--pale); border-color: var(--accent);">
            <h2>üéâ Part 2 Complete!</h2>
            <p>Excellent work! You've mastered set operations, Venn diagrams, and subset relationships. These are fundamental tools for discrete mathematics and computer science.</p>
            
            <div style="background: white; padding: 1.5rem; border-radius: 8px; margin: 1.5rem 0;">
                <h3 style="margin-top: 0;">What You've Learned:</h3>
                <ul style="margin-left: 1.5rem; color: var(--text-light);">
                    <li>Performed union, intersection, difference, and complement operations</li>
                    <li>Visualized set relationships using Venn diagrams</li>
                    <li>Solved real-world problems using set theory</li>
                    <li>Determined subset and proper subset relationships</li>
                    <li>Applied fundamental set properties</li>
                </ul>
            </div>
            
            <p><strong>Coming in Part 3:</strong> Power Sets, Cartesian Products, and Comprehensive Review!</p>
            
            <div style="text-align: center; margin-top: 2rem;">
                <button class="btn btn-primary" style="font-size: 1.1rem; padding: 1rem 2rem;" onclick="alert('Part 3 will be available soon! Great job on completing Part 2.')">Ready for Part 3 ‚Üí</button>
            </div>
        </section>
    </main>
    
    <footer>
        <p><strong>CSC 240 - Discrete Structures</strong></p>
        <p>Week 1, Part 2 of 3 | Modules 4-6</p>
        <p>Mendocino College Computer Science Department</p>
        <p style="margin-top: 1rem; font-size: 0.85rem;">Last Updated: January 2026</p>
    </footer>
    
    <script>
        // SESSION STORAGE
        const STORAGE_KEY = 'csc240_week1_part2';
        
        // PROGRESS TRACKING
        function updateProgress() {
            const modules = [
                document.getElementById('module4-complete')?.checked || false,
                document.getElementById('module5-complete')?.checked || false,
                document.getElementById('module6-complete')?.checked || false
            ];
            const completed = modules.filter(Boolean).length;
            const percentage = Math.round((completed / 3) * 100);
            
            document.getElementById('progress-fill').style.width = percentage + '%';
            document.getElementById('progress-percentage').textContent = percentage + '%';
            document.getElementById('modules-completed').textContent = `Modules: ${completed}/3`;
            
            saveProgress();
        }
        
        function toggleModuleCompletion(module) {
            setTimeout(updateProgress, 100);
        }
        
        function saveProgress() {
            const progress = {
                module4: document.getElementById('module4-complete')?.checked || false,
                module5: document.getElementById('module5-complete')?.checked || false,
                module6: document.getElementById('module6-complete')?.checked || false
            };
            sessionStorage.setItem(STORAGE_KEY, JSON.stringify(progress));
        }
        
        function loadProgress() {
            const saved = sessionStorage.getItem(STORAGE_KEY);
            if (saved) {
                const progress = JSON.parse(saved);
                if (progress.module4) document.getElementById('module4-complete').checked = true;
                if (progress.module5) document.getElementById('module5-complete').checked = true;
                if (progress.module6) document.getElementById('module6-complete').checked = true;
                updateProgress();
            }
        }
        
        // UTILITY FUNCTIONS
        function parseSet(inputStr) {
            if (!inputStr.trim()) return [];
            return inputStr.split(',')
                .map(item => item.trim())
                .filter(item => item !== "")
                .map(item => isNaN(item) ? item : Number(item));
        }

        function arraysEqual(a, b) {
            if (a.length !== b.length) return false;
            let setA = new Set(a);
            for (let item of b) if (!setA.has(item)) return false;
            return true;
        }

        function setToString(arr) {
            return '{' + arr.join(', ') + '}';
        }

        // MODULE 4: SET OPERATIONS
        function calculateSetOperation() {
            const setA = parseSet(document.getElementById('setA').value);
            const setB = parseSet(document.getElementById('setB').value);
            const setU = parseSet(document.getElementById('universalSet').value);
            const op = document.getElementById('operation').value;
            const feedback = document.getElementById('calc-feedback');
            const visual = document.getElementById('visual-animator');
            
            let result = [];
            let msg = "";
            let explanation = "";

            if (op === 'union') {
                result = [...new Set([...setA, ...setB])];
                explanation = "Union (‚à™) combines all unique elements from both sets.";
            } else if (op === 'intersection') {
                result = setA.filter(x => setB.includes(x));
                explanation = "Intersection (‚à©) contains only elements found in BOTH sets.";
            } else if (op === 'diffAB') {
                result = setA.filter(x => !setB.includes(x));
                explanation = "Difference (A - B) contains elements in A that are NOT in B.";
            } else if (op === 'diffBA') {
                result = setB.filter(x => !setA.includes(x));
                explanation = "Difference (B - A) contains elements in B that are NOT in A.";
            } else if (op === 'complementA') {
                result = setU.filter(x => !setA.includes(x));
                explanation = "Complement (A') contains all elements in U that are NOT in A.";
            } else if (op === 'complementB') {
                result = setU.filter(x => !setB.includes(x));
                explanation = "Complement (B') contains all elements in U that are NOT in B.";
            } else if (op === 'disjoint') {
                const intersection = setA.filter(x => setB.includes(x));
                const isDisjoint = intersection.length === 0;
                msg = isDisjoint 
                    ? `<strong>Yes!</strong> Sets A and B are disjoint (they share no elements).` 
                    : `<strong>No.</strong> Sets A and B are NOT disjoint. They share: ${setToString(intersection)}`;
                feedback.innerHTML = msg;
                feedback.className = isDisjoint ? "quiz-feedback show correct" : "quiz-feedback show incorrect";
                visual.innerHTML = '';
                return;
            }

            result.sort((a,b) => {
                if (typeof a === 'number' && typeof b === 'number') return a - b;
                return String(a).localeCompare(String(b));
            });
            
            msg = `<strong>Result:</strong> ${setToString(result)}`;
            feedback.innerHTML = `${msg}<br><small style="color: var(--text-muted);">${explanation}</small>`;
            feedback.className = "quiz-feedback show correct";

            // Visual animation
            visual.innerHTML = '';
            result.forEach((item, index) => {
                setTimeout(() => {
                    const bubble = document.createElement('div');
                    bubble.className = 'bubble';
                    bubble.innerText = item;
                    visual.appendChild(bubble);
                }, index * 100);
            });
        }

        function checkM4Quiz(answer) {
            const fb = document.getElementById('m4-quiz-feedback');
            if(answer === 'b') {
                fb.innerHTML = "<strong>‚úì Correct!</strong> A - B = {x}. We start with A = {x, y, z} and remove elements that are also in B = {y, z, w}. Only x remains.";
                fb.className = "quiz-feedback show correct";
            } else if(answer === 'a') {
                fb.innerHTML = "<strong>‚úó Incorrect.</strong> w is in B but not in A, so it can't be in A - B. Remember: A - B only contains elements from A.";
                fb.className = "quiz-feedback show incorrect";
            } else if(answer === 'c') {
                fb.innerHTML = "<strong>‚úó Incorrect.</strong> w is not in A, so it can't be in A - B. The difference never adds elements from B.";
                fb.className = "quiz-feedback show incorrect";
            } else {
                fb.innerHTML = "<strong>‚úó Incorrect.</strong> y and z are in both A and B, so they're removed in A - B. Only x remains.";
                fb.className = "quiz-feedback show incorrect";
            }
        }

        // MODULE 5: VENN DIAGRAMS - NEW THREE-REGION IMPLEMENTATION
        let currentVennChallenge = 'intersection';
        const vennChallenges = {
            'intersection': { 
                instruction: 'Shade A ‚à© B (Intersection)', 
                correct: ['region-intersection'],
                explanation: 'The intersection is only the middle region where both circles overlap.'
            },
            'union': { 
                instruction: 'Shade A ‚à™ B (Union)', 
                correct: ['region-a-only', 'region-b-only', 'region-intersection'],
                explanation: 'The union includes all three regions: A-only, B-only, and the intersection.'
            },
            'onlyA': { 
                instruction: 'Shade A - B (Only A)', 
                correct: ['region-a-only'],
                explanation: 'A - B is only the left crescent containing elements in A but not in B.'
            },
            'onlyB': { 
                instruction: 'Shade B - A (Only B)', 
                correct: ['region-b-only'],
                explanation: 'B - A is only the right crescent containing elements in B but not in A.'
            },
            'neither': {
                instruction: 'Shade nothing (Empty set)',
                correct: [],
                explanation: 'The empty set means no regions are shaded.'
            }
        };

        function toggleVennRegion(regionId) {
            const region = document.getElementById(regionId);
            region.classList.toggle('shaded');
        }

        function checkVennShading() {
            const fb = document.getElementById('venn-feedback');
            const challenge = vennChallenges[currentVennChallenge];
            
            const regionAOnly = document.getElementById('region-a-only').classList.contains('shaded');
            const regionBOnly = document.getElementById('region-b-only').classList.contains('shaded');
            const regionIntersection = document.getElementById('region-intersection').classList.contains('shaded');
            
            const shaded = [];
            if (regionAOnly) shaded.push('region-a-only');
            if (regionBOnly) shaded.push('region-b-only');
            if (regionIntersection) shaded.push('region-intersection');
            
            // Check if the shaded regions match the correct answer
            const correct = shaded.length === challenge.correct.length && 
                           shaded.every(r => challenge.correct.includes(r)) &&
                           challenge.correct.every(r => shaded.includes(r));
            
            if (correct) {
                fb.innerHTML = `<strong>‚úì Correct!</strong> ${challenge.explanation}`;
                fb.className = "quiz-feedback show correct";
            } else {
                fb.innerHTML = `<strong>‚úó Not quite.</strong> ${challenge.explanation}`;
                fb.className = "quiz-feedback show incorrect";
            }
        }

        function resetVenn() {
            document.getElementById('region-a-only').classList.remove('shaded');
            document.getElementById('region-b-only').classList.remove('shaded');
            document.getElementById('region-intersection').classList.remove('shaded');
            document.getElementById('venn-feedback').className = "quiz-feedback";
        }

        function changeVennChallenge() {
            const challenges = Object.keys(vennChallenges);
            const currentIndex = challenges.indexOf(currentVennChallenge);
            const nextIndex = (currentIndex + 1) % challenges.length;
            currentVennChallenge = challenges[nextIndex];
            
            document.getElementById('shade-instruction').innerHTML = 
                `<strong>Instructions:</strong> Click the regions to shade/unshade them. Try to shade the correct region for: <span style="color: var(--accent);">${vennChallenges[currentVennChallenge].instruction}</span>`;
            
            resetVenn();
        }

        function checkVennMath() {
            const val = document.getElementById('venn-q1').value.trim();
            const fb = document.getElementById('venn-math-feedback');
            if(val === "23") {
                fb.innerHTML = "<strong>‚úì Correct!</strong> People who like only coffee = Total coffee (35) - Both (12) = 23 people.";
                fb.className = "quiz-feedback show correct";
            } else {
                fb.innerHTML = "<strong>‚úó Try again.</strong> Hint: Subtract the people who like BOTH from the total who like coffee. Formula: Only Coffee = Total Coffee - Both";
                fb.className = "quiz-feedback show incorrect";
            }
        }

        // MODULE 6: SUBSETS
        function checkSubset() {
            const A = parseSet(document.getElementById('subA').value);
            const B = parseSet(document.getElementById('subB').value);
            const fb = document.getElementById('subset-feedback');
            const vis = document.getElementById('subset-visual');

            const isSubset = A.every(val => B.includes(val));
            const isEqual = arraysEqual(A, B);
            const isProper = isSubset && !isEqual;

            if (isEqual) {
                fb.innerHTML = "<strong>A = B</strong> (Equal sets). Since they're equal, A ‚äÜ B is true, but A ‚äÇ B is false.";
                fb.className = "quiz-feedback show correct";
                vis.innerHTML = `
                    <div style="width:120px; height:120px; border:3px solid var(--accent); border-radius:50%; 
                         display:flex; align-items:center; justify-content:center; background:var(--light);">
                        <span style="font-size: 1.5rem; font-weight: bold;">A = B</span>
                    </div>`;
            } else if (isProper) {
                fb.innerHTML = `<strong>A ‚äÇ B</strong> (Proper Subset). ${setToString(A)} is completely contained in ${setToString(B)}, and B has extra elements.`;
                fb.className = "quiz-feedback show correct";
                vis.innerHTML = `
                    <div style="width:160px; height:160px; border:3px solid var(--primary); border-radius:50%; 
                         position:relative; background:#e8f5e9; display:flex; align-items:center; justify-content:center;">
                        <span style="position:absolute; top:10px; font-weight:bold; font-size:1.2rem;">B</span>
                        <div style="width:80px; height:80px; border:3px solid var(--accent); background:var(--pale); 
                             border-radius:50%; display:flex; align-items:center; justify-content:center;">
                            <span style="font-weight:bold; font-size:1.2rem;">A</span>
                        </div>
                    </div>`;
            } else if (isSubset) {
                // This case shouldn't happen given isEqual check above, but keeping for completeness
                fb.innerHTML = "<strong>A ‚äÜ B</strong> but not a proper subset.";
                fb.className = "quiz-feedback show correct";
                vis.innerHTML = '';
            } else {
                const notInB = A.filter(x => !B.includes(x));
                fb.innerHTML = `<strong>No subset relationship.</strong> A is NOT a subset of B because A contains ${setToString(notInB)} which ${notInB.length > 1 ? 'are' : 'is'} not in B.`;
                fb.className = "quiz-feedback show incorrect";
                vis.innerHTML = `
                    <div style="display:flex; gap:20px; align-items:center;">
                        <div style="width:100px; height:100px; border:3px solid var(--primary); border-radius:50%; 
                             display:flex; align-items:center; justify-content:center; background:var(--light);">
                            <span style="font-weight:bold;">A</span>
                        </div>
                        <div style="width:100px; height:100px; border:3px solid var(--accent); border-radius:50%; 
                             display:flex; align-items:center; justify-content:center; background:#e8f5e9;">
                            <span style="font-weight:bold;">B</span>
                        </div>
                    </div>
                    <p style="text-align:center; margin-top:1rem; color:var(--text-muted);">Separate sets - no containment</p>`;
            }
        }

        function checkSubsetQuiz(answer) {
            const fb = document.getElementById('subset-quiz-feedback');
            if (answer === true) {
                fb.innerHTML = "<strong>‚úì Correct!</strong> The empty set ‚àÖ is a subset of every set. This is a fundamental property because there are no elements in ‚àÖ that could fail to be in another set.";
                fb.className = "quiz-feedback show correct";
            } else {
                fb.innerHTML = "<strong>‚úó Incorrect.</strong> The statement is TRUE. The empty set ‚àÖ is a subset of every set (including itself). Since ‚àÖ has no elements, there are no elements that could violate the subset condition.";
                fb.className = "quiz-feedback show incorrect";
            }
        }

        // INITIALIZE
        document.addEventListener('DOMContentLoaded', function() {
            loadProgress();
        });
    </script>
</body>
</html>
